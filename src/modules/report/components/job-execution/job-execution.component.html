<form [formGroup]="form" fxLayout="row wrap" fxLayoutGap="16px">
  <mat-form-field>
    <mat-select placeholder="State" multiple formControlName="stateList"
                i18n-placeholder="@@crawlJobExecutionReportFilterStatePlaceholder">
      <mat-option *ngFor="let state of jobExecutionStates"
                  [value]="state.toString(10)">{{JobExecutionState[state]}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-select placeholder="CrawlJob" formControlName="jobId"
                i18n-placeholder="@@crawlJobExecutionReportFilterCrawlJobPlaceholder">
      <mat-option [value]=""></mat-option>
      <mat-option *ngFor="let job of crawlJobOptions"
                  [value]="job.id">{{job.meta.name}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <input matInput [matDatepicker]="startTimeFromDatePicker" formControlName="startTimeFrom"
           placeholder="From" i18n-placeholder="@@crawlJobExecutionReportFilterStartTimeFromPlaceholder">
    <mat-datepicker-toggle matSuffix [for]="startTimeFromDatePicker"></mat-datepicker-toggle>
    <mat-datepicker #startTimeFromDatePicker></mat-datepicker>
  </mat-form-field>

  <mat-form-field>
    <input matInput [matDatepicker]="startTimeToDatePicker" formControlName="startTimeTo"
           placeholder="To" i18n-placeholder="@@crawlJobExecutionReportFilterStartTimeToPlaceholder">
    <mat-datepicker-toggle matSuffix [for]="startTimeToDatePicker"></mat-datepicker-toggle>
    <mat-datepicker #startTimeToDatePicker></mat-datepicker>
  </mat-form-field>
</form>

<div fxLayout="column" fxLayoutGap="16px">
  <app-job-execution-status-list fxFlex
                                 #list
                                 [pageLength]="pageLength$ | async"
                                 [pageIndex]="pageIndex$ | async"
                                 [pageSize]="pageSize$ | async"
                                 [sortDirection]="sortDirection$ | async"
                                 [sortActive]="sortActive$ | async"
                                 (selectedChange)="onSelectedChange($event)"
                                 (sort)="onSort($event)"
                                 (page)="onPage($event)"
                                 [dataSource]="dataSource">
    <a *appAction="let row" mat-icon-button
       [routerLink]="['/config', 'crawljobs']"
       [queryParams]="{id: row.jobId}">
      <mat-icon matTooltip="Go to crawljob"
                i18n-matTooltip="@@crawljobExecutionReportGoToCrawljobShortcutTooltip">work</mat-icon>
    </a>
  </app-job-execution-status-list>

  <app-job-execution-status fxFlex *ngIf="jobExecutionStatus$ | async as jobExecutionStatus"
                            [jobExecutionStatus]="jobExecutionStatus"></app-job-execution-status>
</div>
