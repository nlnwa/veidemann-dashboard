<div class="container mat-typography" fxLayout="column">
  <!-- Toolbar -->
  <mat-toolbar color="primary">
    <button mat-icon-button (click)="onToggleSidenav()" class="header--button__margin">
      <mat-icon>menu</mat-icon>
    </button>
    <a routerLink="/" class="title"><h1>Veidemann {{ version }}</h1></a>
    <span fxFlex></span>
    <app-time></app-time>
    <span fxFlex></span>
    <a mat-flat-button color="primary" (click)="onLogin()" *ngIf="!name">
      <mat-icon>account_box</mat-icon>&nbsp;
      <span i18n="@@toolbarLogon">LOGG PÃ…</span>
    </a>
    <a color="primary"
       mat-flat-button
       matTooltip="{{name}}"
       (click)="onLogout()" *ngIf="name"
       [routerLink]="['/activity']" [routerLinkActiveOptions]="{ exact: true}" [routerLinkActive]="['is-active']">
      <mat-icon>account_box</mat-icon>&nbsp;
      <span i18n="@@toolbarLogon">LOGG AV</span>
    </a>

    <button mat-icon-button [mat-menu-trigger-for]="menu">
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <a mat-menu-item
         target="_blank"
         [routerLink]="['/docs']"
         [routerLinkActiveOptions]="{exact: true}"
         [routerLinkActive]="['is-active']">
        <mat-icon>help</mat-icon>
        <span>Hjelp</span>
      </a>
    </mat-menu>

  </mat-toolbar>

  <mat-drawer-container fxFlex="grow">
    <!-- Sidenav -->
    <mat-drawer mode="side" [(opened)]="showSidenav">
      <!-- Navigation -->
      <mat-nav-list>
        <!--a mat-list-item [routerLink]="['/activity']" [routerLinkActiveOptions]="{ exact: true }"
           [routerLinkActive]="['is-active']">
          <mat-icon class="sidenav--icon__margin">dashboard</mat-icon>
          <ng-container i18n="@@navigationSidebarActivity">Aktivitet</ng-container>
        </a>
        <a mat-list-item [routerLink]="['/status']" [routerLinkActive]="['is-active']">
          <mat-icon class="sidenav--icon__margin">assessment</mat-icon>
          <ng-container i18n="@@navigationSidebarStatistics">Statistikk</ng-container>
        </a-->
        <a *ngIf="canAdministrate" mat-list-item [routerLink]="['/validator']"
           [routerLinkActiveOptions]="{ exact: true}"
           [routerLinkActive]="['is-active']">
          <mat-icon class="sidenav--icon__margin">info_outline</mat-icon>
          <ng-container i18n="@@navigationSidebarRolemapping">WARC status</ng-container>
        </a>

        <ng-container *ngIf="canConfigure">
          <mat-divider></mat-divider>
          <h3 mat-subheader i18n="@@navigationSidebarConfigHeader">Konfigurasjon</h3>

          <a mat-list-item [routerLink]="['/config/search']" [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">search</mat-icon>
            <span i18n="@@navigationSidebarSearch">Entiteter/Seeds</span>
          </a>

          <a mat-list-item [routerLink]="['/config/entity']" [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">business</mat-icon>
            <span i18n="@@navigationSidebarCollection">Entity</span>
          </a>

          <a mat-list-item [routerLink]="['/config/seed']" [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">link</mat-icon>
            <span i18n="@@navigationSidebarCollection">Seed</span>
          </a>

          <a mat-list-item [routerLink]="['/config/collection']" [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">collections_bookmark</mat-icon>
            <span i18n="@@navigationSidebarCollection">Collection</span>
          </a>

          <ng-container *ngIf="canViewCrawljobs">
            <a mat-list-item [routerLink]="['/config/crawljobs']" [routerLinkActiveOptions]="{ exact: true }"
               [routerLinkActive]="['is-active']">
              <mat-icon class="sidenav--icon__margin">work</mat-icon>
              <span i18n="@@navigationSidebarCrawljobs">Crawljobs</span>
            </a>
          </ng-container>
          <a mat-list-item [routerLink]="['/config/schedule']" [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">schedule</mat-icon>
            <span i18n="@@navigationSidebarSchedule">Schedule</span>
          </a>
          <a mat-list-item [routerLink]="['/config/crawlconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">settings</mat-icon>
            <span i18n="@@navigationSidebarCrawlconfig">CrawlConfig</span>
          </a>
          <a mat-list-item [routerLink]="['/config/crawlhostgroupconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">group_work</mat-icon>
            <span i18n="@@navigationSidebarCrawlhostgroupconfig">CrawlHostGroup</span>
          </a>
          <a mat-list-item [routerLink]="['/config/browserconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">web</mat-icon>
            <span i18n="@@navigationSidebarBrowserconfig">BrowserConfig</span>
          </a>
          <a mat-list-item [routerLink]="['/config/browserscript']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">web_asset</mat-icon>
            <span i18n="@@navigationSidebarBrowserscript">BrowserScript</span>
          </a>
          <a mat-list-item [routerLink]="['/config/politenessconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">sentiment_very_satisfied</mat-icon>
            <span i18n="@@navigationSidebarPolitenessconfig">Politeness</span>
          </a>
          <mat-divider></mat-divider>
          <a mat-list-item [routerLink]="['/config/logconfig']"
             [routerLinkActiveOptions]="{ exact: true }"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">receipt</mat-icon>
            <span i18n="@@navigationSidebarLogconfig">Logging</span>
          </a>
          <a *ngIf="canAdministrate" mat-list-item [routerLink]="['/config/rolemapping']"
             [routerLinkActiveOptions]="{ exact: true}"
             [routerLinkActive]="['is-active']">
            <mat-icon class="sidenav--icon__margin">people</mat-icon>
            <span i18n="@@navigationSidebarRolemapping">Brukere</span>
          </a>
        </ng-container>
      </mat-nav-list>
    </mat-drawer>
    <!-- Content -->
    <mat-drawer-content>

      <app-dialog></app-dialog>
      <main fxFlex class="content-padding">
        <router-outlet></router-outlet>
      </main>
      <div fxFlexFill fxLayoutAlign="center center" *ngIf="!appConfig.initialized">
        <h1>{{ appConfig.error }}</h1>
      </div>
    </mat-drawer-content>

  </mat-drawer-container>
</div>
